// 20191006
// [BOJ. 13460] 구슬 탈출 2
#if 01
#include <stdio.h>
#define MAX     (15)

typedef struct
{
        int y, x;
}BEAD;
BEAD R, B;

void Input(void);
void DFS(int L, int ry, int rx, int by, int bx);
void Print(void);

int N, M;
char Board[MAX][MAX];
int dy[4] = {-1, 1, 0, 0};
int dx[4] = {0, 0, -1, 1};
int end_flag;

int main(void)
{
        Input();
        DFS(1, R.y, R.x, B.y, B.x);
        Print();

        return 0;
}

void Input(void)
{
        int i, j;
        char tmp[15];

        end_flag = 11;
        scanf("%d %d", &N, &M);
        for(i = 0; i < N; i++)
        {
                scanf("%s", tmp);
                for(j = 0; j < M; j++)
                {
                        Board[i][j] = tmp[j];
                        if(tmp[j] == 'R')
                        {
                                R.y = i;        R.x = j;
                        }
                        else if(tmp[j] == 'B')
                        {
                                B.y = i;        B.x = j;
                        }
                }
        }
}

void DFS(int L, int ry, int rx, int by, int bx)
{
        int i, jr, jb;
        int nry, nrx, nby, nbx;

        if(L > 10) return;

        for(i = 0; i < 4; i++)
        {
                nry = ry;       nrx = rx;
                nby = by;       nbx = bx;
                for(jr = 0; ; jr++)
                {
                        if( Board[ nry + dy[i] ][ nrx + dx[i] ] == '#' || Board[ nry ][ nrx ] == 'O' ) break;
                        nry += dy[i];   nrx += dx[i];
                }
                for(jb = 0; ; jb++)
                {
                        if( Board[ nby + dy[i] ][ nbx + dx[i] ] == '#' || Board[ nby ][ nbx ] == 'O' ) break;
                        nby += dy[i];   nbx += dx[i];
                }
                if( nry == nby && nrx == nbx )
                {
                        if( Board[nby][nbx] == 'O' ) continue;
                        if(jr < jb)
                        {
                                nby -= dy[i];   nbx -= dx[i];
                        }
                        else
                        {
                                nry -= dy[i];   nrx -= dx[i];
                        }
                }
                if( Board[nry][nrx] == 'O' )
                {
                        if(end_flag > L) end_flag = L;
                }
                else if( Board[nby][nbx] == 'O' ) continue;

                DFS(L + 1, nry, nrx, nby, nbx);
        }
}

void Print(void)
{
        printf("%d\n", ((end_flag == 11) ? -1 : end_flag) );
}
#endif
